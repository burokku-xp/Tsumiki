# Tsumiki - プロダクト要件定義書

## 概要

**プロダクト名**: Tsumiki（積み木）

**コンセプト**: 努力の積み上げを可視化する

**形態**: VSCode / Cursor 拡張機能

---

## 目的

開発者の作業量を可視化し、達成感を得られる自己管理ツール。

- 「これだけやった」という実感を得られる
- 日々の成長・頑張りを振り返れる開発日記
- 研修進捗の把握にも活用可能（週報では見えない実態を可視化）

---

## ターゲットユーザー

- **メイン**: 自分の作業量を把握したい開発者
- **サブ**: 研修生の取り組み具合を確認したい研修担当者

---

## 機能一覧（v1）

### コア機能

| 機能 | 内容 |
|------|------|
| 作業時間計測 | スタート/ストップ式タイマー |
| 保存回数カウント | ファイル保存のたびに+1 |
| 編集ファイル追跡 | ファイル名・行数をリスト化 |
| 変更行数 | 空行・コメント除外、参考値として表示 |
| 言語比率 | 拡張子ベースで集計 |
| 日次サマリー | VSCode内サイドパネルで表示 |
| Slack投稿 | Incoming Webhook連携 |
| 表示設定 | 投稿内容のカスタマイズ |

### 計測ルール

- **行数**: 保存時のみカウント（連打防止）
- **空行・コメント**: カウント対象外
- **信頼性**: 行数は参考値、作業時間・保存回数・ファイル数で総合判断

---

## 表示イメージ

### サイドパネル

```
本日の記録
├─ 作業時間: 3時間12分
├─ 保存回数: 24回
├─ 編集ファイル: 8ファイル
├─ 変更行数: 187行 (参考値)
├─ 主な言語: TypeScript 65%, CSS 20%
│
└─ 編集ファイル一覧:
   ├─ src/components/Login.tsx (42行)
   ├─ src/hooks/useAuth.ts (28行)
   ├─ src/styles/login.css (35行)
   └─ ... 他5ファイル
```

### Slack投稿

```
🧱 山田さんの本日の記録
━━━━━━━━━━━━━━━━━━━━━
⏱️ 作業時間: 3時間12分
💾 保存: 24回 / 8ファイル
📝 変更行数: 187行

📁 編集ファイル:
・Login.tsx / useAuth.ts / login.css 他5件
```

---

## 技術スタック

| レイヤー | 技術 |
|---------|------|
| 拡張本体 | TypeScript |
| UI | WebView + React |
| データ保存 | SQLite（ローカル、無期限保持） |
| Slack連携 | Incoming Webhook |
| ビルド | esbuild |
| パッケージ管理 | pnpm |

---

## 将来拡張（v2以降）

- ポモドーロタイマー
- 管理者ダッシュボード（Web画面）
- 育成要素・ゲーミフィケーション
- 週次レポート自動生成
- AI要約機能
- Git連携機能

---

## 制約事項

- 収益化禁止（広告・課金・販売）
- 外部クライアント案件への転用禁止
- 実在する業務データ・個人情報の利用禁止
- 学習・検証・実績づくり目的に限定

---

## 備考

- Git連携は研修時に使用しないため標準機能からは除外
- コード内容の送信はプライバシー観点から行わない（統計のみ）
