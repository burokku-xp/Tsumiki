## 1. WorkTimerにセッション設定メソッドを追加

- [x] 1.1 `src/measurement/timer.ts`に`setSession()`メソッドを追加
- [x] 1.2 メソッドでセッションIDと開始時刻を設定し、ステータスバーを更新

## 2. データベース関数のインポート確認

- [x] 2.1 `src/extension.ts`で`getSession`と`createSession`をインポート
- [x] 2.2 既にエクスポートされていることを確認（`src/database/index.ts`で確認済み）

## 3. ファイル保存イベントハンドラーの修正

- [x] 3.1 `src/extension.ts`のファイル保存イベントハンドラーを修正
- [x] 3.2 セッションが存在しない場合、自動的にセッションを作成
- [x] 3.3 作成したセッションを`WorkTimer`に設定
- [x] 3.4 セッション自動作成時にユーザーに通知メッセージを表示（初回のみ）
- [x] 3.5 エラーハンドリングを追加（セッション作成失敗時の処理）

## 4. 非アクティブセッションの自動終了機能

- [x] 4.1 `WorkTimer`に非アクティブセッション監視機能を追加
- [x] 4.2 最後のファイル保存時刻を記録する仕組みを実装
- [x] 4.3 定期的に（例：5分ごと）非アクティブセッションをチェック
- [x] 4.4 1時間（デフォルト）アクティビティがなかった場合、セッションを自動終了
- [x] 4.5 自動終了時にログを出力（ユーザー通知は不要）

## 5. 検証

- [ ] 5.1 タイマーを開始せずにファイルを保存し、記録されることを確認
- [ ] 5.2 自動作成されたセッションが`WorkTimer`に反映されることを確認
- [ ] 5.3 セッション自動作成時に通知メッセージが表示されることを確認
- [ ] 5.4 1時間アクティビティがない場合、セッションが自動終了することを確認
- [ ] 5.5 ファイル保存がある場合、自動終了タイマーがリセットされることを確認
- [ ] 5.6 日次統計に保存回数とファイル編集が反映されることを確認
- [ ] 5.7 タイマーを開始した後にファイルを保存し、既存の動作が維持されることを確認
